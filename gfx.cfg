/////////////////////////////////////////////////////////////////////////////////////////////////////
// Core's Config - Inspired by Chris' Highframes CFG:                                              //
// using tweaks/comments from Comanglia, Mastercoms, and Sage.                                     //
// February 2018 - Main changes - Tweaked comments, removed more dead commands, added back LO's.   //
// https://github.com/corei17/Cores-CFG                                                            //
//                                                                                                 //
// (WIKI IS A WORK IN PROGRESS)                                                                    //
// Almost all commands and changes will be documented on GitHub, the Wiki has a lot of information //
// on what does what. I'de suggest if you want to edit this config you jump over there before.     //
// https://github.com/corei17/Cores-CFG/wiki                                                       //
/////////////////////////////////////////////////////////////////////////////////////////////////////

// NETWORK LAUNCH OPTIONS
// -reuse :  allow network sockets to be reused when busy (sets SO_REUSEADDR), better network performance
// -usetcp : allow usage of TCP where it would be more optimal than UDP, better network performance

// MONITOR LAUNCH OPTIONS
// -w and -h : Resolution width and height respectivelly, for example "-w 1920 -h 1080"
// -refresh : Set your refresh rate manually, for example "-refresh 144"
// -full : Force fullscreen mode
// -sw : Force window mode.
// -noborder : Force noborder window mode.

// SOUND LAUNCH OPTIONS
// -primarysound : Don't use a secondary sound buffer, small FPS boost. Should be used with -snoforceformat.
// -snoforceformat : Skips force setting of sound buffer format, small FPS boost. Should be used with -primarysound.
// -nostartupsound : disable game music on main menu

//	NICHE/USELESS
// -useforcedmparms -noforcemaccel -noforcemspd // All of these are outdated and don't matter anymore
// -nosound : disables sound, no performance boost unless your drivers are slow
// -small : allow for resolutions smaller than 640x480
// -r_emulate_gl : emulates OpenGL on Windows, FPS boost on most GPUs, does not work with
//                 the ESEA client, so remove it when you want to play in ESEA matches - Mastercoms - Core (I've used this before, does help but is more prone to crashes.)

// DX LEVELS
// DirectX 8: Disables weapon skins
// -dxlevel 80 : Unstable and causes many visual glitches. Not recommended.
// -dxlevel 81 : Most stable dx8 mode. Few visual glitches.
// DirectX 9:
// -dxlevel 90 : Shader Model 2
// -dxlevel 92 : OpenGL dxlevel (Linux and macOS)
// -dxlevel 95 : Shader Model 3 (recommended)
// -dxlevel 98 : DirectX 9Ex. Best looking one. A few DX10 features.
// -dxlevel 100: DirectX 9Ex but no support fallbacks.
//
// DX9 uses your GPU more effectively and is more optimized but DX8 disables many effects and particles.



// PRINT TO CONSOLE - start
echo "---------------------------"
echo "Core's Config is loading..."
echo "---------------------------"



// FPS CAP
cl_showfps 0 // Turning this FPS meter on actually decreases fps by about 3%-4%
//fps_max 0 // There is currently a bug on some systems which caps FPS to a much lower value with fps_max 300
fps_max 300 // Input lag does not happen with an FPS cap as far as I can tell, and Source is better off with a frame cap of 300 due to some systems assuming FPS will not be higher than 300
			// You might want a lower cap if you have overheating issues, mainly in laptops.
sv_cheats 0



// SPRAYS
// Bear in mind that these are disabled on war servers due to `sv_pure 2'
// anyway, so if you play competitive TF2, this won't help you.

// Disable sprays
cl_playerspraydisable 1
r_spray_lifetime 0

// Enable sprays -- uncomment this section if you want these settings
//cl_playerspraydisable 0
//r_spray_lifetime 2

// GIBS
// You will have reduced performance on deaths which produce gibs.

// Disable gibs
cl_phys_props_enable 0
cl_phys_props_max 0
props_break_max_pieces 0
r_propsmaxdist 1
violence_agibs 1
violence_hgibs 1



// GRAPHICAL SETTINGS
// Now we come to the main brunt of the config. You probably don't want to mess with this.

cl_allowdownload 0 // Block downloads of other player custom files
cl_allowupload 0 // Disable uploading your player custom files
r_rootlod 2 // Maximum performance for models
lod_TransitionDist -1 // Do not fade in map objects for maximum performance
mat_max_worldmesh_vertices 1024 // Reduce mesh vertices to minimum
r_ambientboost 0 // Disable if you need to save the small amount of CPU this uses
r_ambientmin 0 // Ambient boost never
r_rimlight 0 // Disable light around character edges, very small FPS increase, rimlight uses GPU only
mat_phong 0 // Disable phong for flatter shading
r_worldlightmin 0.1 // Reject a lot of minor world lighting
nb_shadow_dist 0 // Disable shadow distance
r_drawtracers_firstperson 0 // Do not draw tracers when you are in first person
cl_show_splashes 0 // Disable water splashes
cl_fasttempentcollision 10000 // Skip collision checking
glow_outline_effect_enable 0 // Disable xrays to save frames
tf_enable_glows_after_respawn 0 // Disable spawn xrays
tf_spec_xray_disable 1 // Disable xrays while spectating
r_cheapwaterstart 0 // Use cheap water as much as possible
r_cheapwaterend 0.1 // Use cheap water as much as possible
r_WaterDrawRefraction 0 // Disable water refraction for maximum FPS
mat_trilinear 0 // Disable trilinear
r_flex 0 // Disable facial animations
flex_rules 0 // ^
ai_expression_frametime 0 // Disable expressions entirely
r_eyemove 0 // Disable eye movement
blink_duration 0 // Disable blinking
tf_clientsideeye_lookats 0 // Disable eye lookats
r_eyes 0 // Disable eyes
r_teeth 0 // Do not render teeth, small FPS boost
r_decals 0 // Disable decals
mp_decals 0 // Disable decals
r_spray_lifetime 0 // Clear sprays immediately
cl_playerspraydisable 1 // Disable player sprays
r_decal_cullsize 256 // Hide decals
r_renderoverlayfragment 0 // Disable overlays, small performance increase
props_break_max_pieces 0 // Disables gibs and prop breaking
r_propsmaxdist 1 // Lowest range for props
cl_detaildist 0 // No detail props
r_staticprop_lod 63 // Force lowest LOD (lowest quality)
mat_bumpmap 0 // Disable bumpmap materials
mat_specular 0 // Disable specular materials
r_3dsky 0 // Disable 3D sky
cl_jiggle_bone_framerate_cutoff 0 // Always disable jigglebones
mat_picmip 2 // Use lowest quality textures
rope_rendersolid 0 // Skip rendering solid part of ropes
mat_filterlightmaps 0 // Do not smooth lighting
mat_filtertextures 0 // Do not smooth textures
tf_quest_map_tuner_wobble_magnitude 0 // Disable the red tuner on the contracker
tf_item_inspect_model_auto_spin 0 // Do not auto spin items in the inspect view
tf_hud_target_id_show_avatars 0 // Never show avatars
cl_crosshairalpha 255 // Disable transparency for lowend computers
snd_mixahead 0.08 // Balance between sound delay and less demand on the CPU
snd_disable_mixer_duck 1 // Disable some sounds being mixed to be louder than others
dsp_slow_cpu 1 // Disable initialization of spatialization
snd_spatialize_roundrobin 3 // Spatialize sounds every 8 frames (2^3) using round-robin algorithm.
                            // Pretty reasonable performance benefit, but delay in spatialization.
dsp_speaker 0 // Disable administrator effect
dsp_water 0 // Disable water muffling effect
dsp_spatial 0 // Disable spatial effect
dsp_db_mixdrop 1 // Disable volume scaling
dsp_db_min 0 // ^
dsp_mix_min 0 // ^
dsp_mix_max 0 // ^  



// MISC SETTINGS
// Don't mess with these unless you are sure you know what you are doing.

//in_usekeyboardsampletime 0
in_usekeyboardsampletime 1 // This does not delay keyboard input at all, only makes keyboard movement input more reliable
mat_clipz 1 // FX card users should set this to 0
mat_forcehardwaresync 0
mat_levelflush 1
m_rawinput 1 // Enable raw mouse input.
mat_vsync 0 // Turn off vsync to avoid nasty I/O latency.
r_fastzreject 0
//r_fastzreject 1 // Has the CPU help render the image for the GPU. Not worth it for any good GPU.
					// Recommended for Intel HD or any other integrated graphics

ai_expression_optimization 1
fast_fogvolume 1
host_thread_mode 0 // Turn this to 0 if you want to create a local server
mod_load_anims_async 1
mod_load_mesh_async 1
mod_load_vcollide_async 1
con_enable 1
con_filter_enable 1
con_filter_text_out particle



// SOUND SETTINGS
// I'd be hesitant to say that you would see a great deal of performance
// improvement from lowering the sound quality, but in my experience as a
// competitive TF2 player, lowering the sound quality makes determination of
// directionality and distance that much easier. You may see a small FPS gain
// with these settings, or you may not, either way will likely have a
// negligible effect on performance. - Chris - Comanglia
// With more modern setups these aren't even noticeable, so I'de suggest going
// for the sound profile / sound you like and prefer for your headphones. - Core

dsp_enhance_stereo 0
dsp_slow_cpu 1
dsp_water 0 // Disable water muffling effect
snd_async_fullyasync 1 // Play sounds independently of main engine work
//snd_pitchquality 0 // Use this if desperate for FPS using a very weak CPU
snd_pitchquality 1 // The difference in quality is very noticeable and the FPS loss is negligible, if any
//snd_spatialize_roundrobin 1
snd_spatialize_roundrobin 0 // 1 adds a two frame delay to spatialization
snd_mixahead .08 // Delay in sound from weapons below .05 has been known to be unstable



// THREADING
cl_threaded_client_leaf_system 1 // Asynchronously add new renderables and compute blends for added
                                 // renderables
//cl_threaded_client_leaf_system 0 // Use traditional behavior for CPUs with less than 4 cores
r_threaded_renderables 1 // Asynchronously set up bones on animated entities
//r_threaded_renderables 0 // Use traditional behavior for CPUs with 1 core
r_threaded_particles 1 // Process particle systems in parallel
//r_threaded_particles 0 // Process particle systems one at a time for CPUs with 1 core
r_threaded_client_shadow_manager 1 // Multithreaded shadow computations/rendering
//r_threaded_client_shadow_manager 0 // Use traditional behavior for CPUs with less than 4 cores
mat_queue_mode 2 // Force multithreaded mode for the material system queue
//mat_queue_mode 1 // Force queued single threaded mode for CPUs with less than 4 cores
studio_queue_mode 1 // Use queue calls for studio renders
host_thread_mode 1 // Use the threaded frame behavior if applicable (use 2 to force)
r_queued_decals 0 // Disabled by default due to crashes
//r_queued_decals 1 // Offload decal draws to the material system
r_queued_post_processing 0 // Disabled by default because it usually fails to render the post processing
                           // effects in time for the frame render, resulting in a missing texture
//r_queued_post_processing 1 // Offloads post processing to the material system
                             // Performance improvement if your driver/GPU works with it
r_queued_ropes 1 // Queue some rope rendering using the material system



// TEST COMMANDS
// Leave these as they are, there really isn't a benefit in touching them.

cl_localnetworkbackdoor 0 //Network optimizations for Singleplayer, disabling has about a 1-2% fps boost
cl_cloud_settings 0 // I believe this disables cloud syncing of CFGs but not 100% sure
//cl_notifications_show_ingame 0 // Pretty sure this disables Trade/Duel Notifications
sys_minidumpspewlines 500 // Number of lines saved to a log file from console.
							// You're setting it to the default value of 500. 
							// It doesn't affect FPS or FPS variance anyway, it does not become 
							// a factor in normal play as it only is used when TF2 crashes.

							
							
// PRINT TO CONSOLE - END
echo "----------------------------------------------------------------------------------"
echo "Core's Config, see GitHub Repo for more info: https://github.com/corei17/Cores-CFG"
echo "----------------------------------------------------------------------------------"